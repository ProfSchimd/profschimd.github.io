@import "tailwindcss";
@plugin "@tailwindcss/typography";

.prose :where(code):not(:where([class~="not-prose"] *))::before {
  content: "";
}

.prose :where(code):not(:where([class~="not-prose"] *))::after {
  content: "";
}

.prose :not(pre) > code {
  @apply bg-gray-300 text-gray-900 px-1.5 py-0.5 rounded font-thin;
  @apply dark:bg-gray-700 dark:text-gray-200;
}


@import "katex/dist/katex.min.css";
@import "rehype-callouts/theme/obsidian";

.callout {
  line-height: 2rem;
}

/* Dark mode using CSS media query (works with Tailwind's media strategy) */
@media (prefers-color-scheme: dark) {
  .callout {
    mix-blend-mode: lighten;
    background-color: rgb(from var(--rc-color-dark, var(--rc-color-default)) r g b / 0.1);
  }

  .callout-title {
    color: var(--rc-color-dark, var(--rc-color-default));
  }
}

code[data-line-numbers] {
  counter-reset: line;
}

span[data-highlighted-line] {
  background-color: #558;
}

code[data-line-numbers] > [data-line]::before {
  counter-increment: line;
  content: counter(line);

  /* Other styling */
  display: inline-block;
  width: 0.75rem;
  margin-right: 2rem;
  text-align: right;
  color: gray;
}

code[data-line-numbers-max-digits="2"] > [data-line]::before {
  width: 1.25rem;
}

code[data-line-numbers-max-digits="3"] > [data-line]::before {
  width: 1.75rem;
}

code[data-line-numbers-max-digits="4"] > [data-line]::before {
  width: 2.25rem;
}
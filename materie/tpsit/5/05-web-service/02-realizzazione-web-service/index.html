<!doctype html><html><head><meta charset=utf-8><title>Implementazione di Web Service REST &ndash; Michele Schimd
</title><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/spacelab/bootstrap.min.css rel=stylesheet><link href=https://profschimd.github.io/css/syntax.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body class="d-flex flex-column min-vh-100"><header><nav class="p-1 navbar navbar-expand-lg navbar-dark bg-primary"><div class=container><a class=navbar-brand rel=author href=https://profschimd.github.io/>Michele Schimd</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Materie</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/materie/inf/ class=dropdown-item>Informatica</a></li><li><a href=https://profschimd.github.io/materie/sr/ class=dropdown-item>SR</a></li><li><a href=https://profschimd.github.io/materie/tpsit/ class=dropdown-item>TPSIT</a></li><li><a href=https://profschimd.github.io/materie/gpoi/ class=dropdown-item>GPOI</a></li><li><a href=https://profschimd.github.io/materie/ec/ class=dropdown-item>EC</a></li><li><a href=https://profschimd.github.io/materie/python/ class=dropdown-item>Python</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Classi</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/classi/3ic/ class=dropdown-item>3IC</a></li><li><a href=https://profschimd.github.io/classi/4ic/ class=dropdown-item>4IC</a></li><li><a href=https://profschimd.github.io/classi/4ia/ class=dropdown-item>5IA</a></li><li><a href=https://profschimd.github.io/classi/5ic/ class=dropdown-item>5IC</a></li><li><a href=https://profschimd.github.io/classi/anni-passati/ class=dropdown-item>Anni precedenti</a></li></ul></li><li class=nav-item><a class=nav-link href=https://profschimd.github.io/about/ role=button><i class="bi bi-info-circle"></i></a></li></ul></div></div></nav></header><div class="p-4 bg-primary" style="background-size:cover;background-position:50%;background-image:linear-gradient(to bottom,rgba(0,0,0,.3) 0%,rgba(0,0,0,.6) 100%),url(https://profschimd.github.io/img/zuccante_it.jpeg)"><div class=container><h1 class="display-4 text-white">Implementazione di Web Service REST</h1></div></div><div class=bg-light><nav aria-label="breadcrumb mt-0"><div class=container><ol class="breadcrumb py-0 my-1 small"><li class=breadcrumb-item><a href=https://profschimd.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/>Materie</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/tpsit/>TPSIT</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/tpsit/5/>Quinto Anno</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/>Web Service</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/02-realizzazione-web-service/>Implementazione di Web Service REST</a></li></ol></nav></div><div class="container py-5"><main><div class=row><div class=col-10><aside><nav id=TableOfContents><ul><li><a href=#definizione-delle-risorse>Definizione delle risorse</a></li><li><a href=#definizione-delle-api>Definizione delle API</a><ul><li><a href=#richieste-rest>Richieste REST</a></li><li><a href=#accesso-ed-autenticazione>Accesso ed autenticazione</a></li><li><a href=#api-key>API key</a></li></ul></li><li><a href=#implementazione>Implementazione</a><ul><li><a href=#deployment>Deployment</a></li></ul></li><li><a href=#riepilogo>Riepilogo</a></li></ul></nav></aside></div><div class=col-2></div></div><article><div class=container style=text-align:justify><h2 id=definizione-delle-risorse>Definizione delle risorse</h2><p>Il primo passo nella creazione di un web service è la definizione dei contenuti,
le <em>risorse</em> che il servizio fornirà ai suoi utenti. Questo aspetto caratterizza
il web service, ad esempio un servizio per fornire testo sarà diverso da un
servizio per fornire immagini o video.</p><p>Ricordiamo che lo scambio di risorse avviene, tipicamente, utilizzando formati
standard quali XML e JSON. Inoltre per servizi REST, le risorse vengono
identificate mediante URL.</p><h2 id=definizione-delle-api>Definizione delle API</h2><p>Una volta definite le risorse che verranno scambiate utilizzando il Web Service,
è necessario definire le modalità con cui avverrà tale scambio. Queste modalità
comprendono sia l&rsquo;architettura del web service, sia i <em>comandi</em>, il formato delle
richieste/risposte ed il contenuto di queste.</p><p>Una volta definita l&rsquo;architettura (ad esempio REST), si passa alla definizione
delle <strong>API</strong> (<em>Application Programming Interface</em>) che specificano le modalità
di interazione con il web service.</p><div class="alert alert-primary" markdown=1><h5 class=no_toc><i class="bi bi-journal-code"></i> Esempio: Carrello delle spesa</strong></h5><p><p>Vediamo come gestire mediante un web service REST il carrello della spesa in un
sito di commercio elettronico.</p><ul><li><em>Consulta carrello</em> rappresenta l&rsquo;operazione di &ldquo;visione&rdquo; del contenuto del
carrello.</li><li><em>Aggiungi oggetto</em> permette di un aggiungere un <em>item</em> al carrello</li><li><em>Elimina oggetto</em> permette di eliminare un <em>item</em> dal carrello</li></ul><p>Queste tre operazioni dovranno essere formalmente definite dalle API del nostro
web service. In altre parole dobbiamo prevedere un modo di interagire con il web
service per ognuna delle operazioni elencate.</p></p></div><h3 id=richieste-rest>Richieste REST</h3><p>Come visto nella <a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/01-web-service-intro/>lezione introduttiva</a>, in
un&rsquo;architettura REST, le richieste avvengono utilizzando i comandi HTTP e le
risorse si identificano mediante URL. Le operazioni su risorse di un servizio
REST vengono spesso indicate con la sigla <strong>CRUD</strong> che indica le quattro
operazioni di seguito elencate.</p><ul><li><strong>Create</strong> (Creare): consente di creare una nuova risorsa sul server utilizzando
il comando <code>POST</code> contenente i dati della nuova risorsa.</li><li><strong>Read</strong> (Leggere): consente di recuperare una risorsa dal server REST utilizzando
il comando <code>GET</code> ed indicando la risorsa richiesta.</li><li><strong>Update</strong> (Aggiornare): consente di aggiornare una risorsa esistente sul server
utilizzando il comando <code>PUT</code> (o <code>PATCH</code>) ed indicando la risorsa da aggiornare.</li><li><strong>Delete</strong> (Eliminare): consente di eliminare una risorsa dal server utilizzando
il comando <code>DELETE</code> ed indicando la risorsa da eliminare.</li></ul><p>In tutti i casi l&rsquo;operazione deve indicare l&rsquo;URL che identifica la risorsa, un URL
è tipicamente composto di tre parti</p><ol><li><em>authority</em> per identificare l&rsquo;organizzazione di appartenenza, ad esempio
<code>api.zuccante.it</code>, in HTTP questa indica anche il nome del web server che ospita
il servizio;</li><li><em>path</em> che identifica la risorsa all&rsquo;interno del server, ad esempio <code>/studenti</code>
oppure <code>/personale/docenti</code>;</li><li><em>query string</em> che tipicamente indica un filtraggio dei risultati, ad esempio
<code>?classe=1A</code>.</li></ol><p>Vediamo alcuni esempi di URL e cosa potrebbero identificare.</p><ul><li><code>api.zuccante.it/student?class=1A</code> restituisce la lista degli studenti della classe <code>1A</code></li><li><code>restcountries.com/v3.1/name/italy</code> restituisce le informazione per la
nazione con <code>name</code> uguale a <code>italy</code>.</li><li><code>http://numbersapi.com/1337/trivia?random</code> restituisce un fatto (<em>trivia</em>) relativo al
numero <code>1337</code> (risultato casuale).</li></ul><div class="alert alert-success" markdown=1><h5 class=no_toc><i class="bi bi-eye"></i> Osserva</strong></h5><p>Quando si accede ad un sito Web mediante HTTP, è frequente che il <em>path</em> si riferisca
ad un file presente nel server</p></div><h3 id=accesso-ed-autenticazione>Accesso ed autenticazione</h3><p>Le API fornite da un web service possono essere o meno rese disponibili al pubblico,
è anche possibile che parte delle API siano pubbliche e parte siano accessibili
solo previa <em>autenticazione</em>.</p><p>I motivi per rendere private le API possono essere varie, le principali sono</p><ul><li>accesso a dati sensibili (ad esempio Registro Elettronico),</li><li>scarsità di risorse hardware (ad esempio utilizzando <em>hosting</em> gratuito o con
pagamento a volume).</li></ul><p>Per garantire l&rsquo;accesso solo agli utenti autorizzati, esistono diversi meccanismi
di autenticazione che possono essere utilizzati da un web service. Ecco alcuni dei
principali:</p><ol><li>Autenticazione basata su <a href=#api-key><em>API key</em></a> (o <em>token</em>): questo metodo prevede
che l&rsquo;utente fornisca una chiave di accesso valida per effettuare richieste al web
service. La chiave viene generata dal server al momento dell&rsquo;autenticazione
dell&rsquo;utente e viene poi utilizzato per identificare l&rsquo;utente in ogni richiesta
successiva.</li><li>Autenticazione basata su username e password: questo metodo prevede che
l&rsquo;utente fornisca un nome utente e una password validi per accedere al web service.
L&rsquo;utente viene autenticato tramite la verifica di queste credenziali.</li><li>Autenticazione basata su certificati: questo metodo prevede che l&rsquo;utente fornisca
un certificato digitale valido per accedere al web service. Il certificato viene
emesso da un&rsquo;autorità di certificazione e viene utilizzato per identificare
l&rsquo;utente in modo sicuro.</li><li>Autenticazione basata su <em>OAuth</em>: questo metodo prevede che l&rsquo;utente fornisca
un&rsquo;autorizzazione di accesso tramite un <em>provider</em> di identità di <em>terze parti</em>,
ad esempio Google o Facebook. L&rsquo;utente viene quindi autenticato tramite l&rsquo;utilizzo
delle credenziali del provider di identità.</li></ol><h3 id=api-key>API key</h3><p>Spesso l&rsquo;accesso alle API (quindi alle risorse), viene garantito solo se ogni
richiesta contiene una <strong>API key</strong> (o <em>token</em>), un tale meccanismo può essere utilizzato
per vari scopi:</p><ul><li>rendere accessibile parte o tutte le risorse, solo dopo autenticazione,</li><li>limitare il numero di accessi ad una risorsa (ad esempio solo 100 richieste
al giorno per gli account <em>free</em>),</li><li>tracciare gli utenti e/o gli sviluppatori.</li></ul><h2 id=implementazione>Implementazione</h2><p>L&rsquo;implementazione di un Web Service avviene di norma utilizzando un linguaggio
di programmazione adatto allo sviluppo di <em>backend</em>. Normalmente vengono adottati
dei <em>framework</em> appositamente progettati per lo sviluppo di web service nel
linguaggio selezionato.</p><p>Vediamo quali sono i principali linguaggi e framework utilizzati per lo sviluppo
di web service.</p><ul><li>Javascript: Node, express, &mldr;</li><li>Python: Django, Flask, FastAPI, &mldr;</li><li>Java: Spring, &mldr;</li><li>PHP</li></ul><h3 id=deployment>Deployment</h3><p>Terminata l&rsquo;implementazione ed il testing, il Web Service viene installato
(<em>deployed</em>) in un server di <em>produzione</em> per poter essere reso disponibile.</p><p>Un aspetto importante del deployment è la scelta del <em>web server</em>, scelte comuni
includono i seguenti software:</p><ul><li><a href=https://nodejs.org/en/ target=_blank rel=noopener>Node</a></li><li><a href=https://www.nginx.com/ target=_blank rel=noopener>nginx</a></li><li><a href=https://httpd.apache.org/ target=_blank rel=noopener>Apache</a></li></ul><div class="alert alert-danger" markdown=1><h5 class="alert-danger no_toc"><i class="bi bi-exclamation-triangle"></i> Attenzione</strong></h5><p>Spesso i framework di sviluppo includono un web server di sviluppo che viene
utilizzato durante la fase di realizzazione del web service. Questi server sono
molto veloci, ma <strong>spesso non sono sufficientemente sicuri per essere utilizzati
in ambiente di produzione</strong>.</p></div><h2 id=riepilogo>Riepilogo</h2><p>Abbiamo visto come in un web service REST le risorse vengono identificate tramite
URL e scambiate in formati standard come XML e JSON. Successivamente si è discusso
il ruolo delle API nei servizi REST. L&rsquo;accesso al servizio e alle API avviene
utilizzando i comandi HTTP (Create, Read, Update, Delete). Infine si è fatto cenno
all&rsquo;utilizzo di autenticazione API key come strumenti per rendere le API private.</p></div></article><nav class="mx-5 my-3"><div class=card><h5 class=card-header>Indice di Web Service</h5><ul class="list-group list-group-flush"><li class=list-group-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/01-web-service-intro/>Concetti base sui Web service</a></li><li class="list-group-item list-group-item-primary"><strong><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/02-realizzazione-web-service/>> Implementazione di Web Service REST</a></strong></li><li class=list-group-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/03-web-service-sicurezza/>Sicurezza nei Web Service</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/l01-web-service-client/>Laboratorio 1: Client REST</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/l02-web-service-server/>Laboratorio 2: Server REST</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/tpsit/5/05-web-service/l03-web-service-sicurezza/></a></li></ul><div class=card-footer><a class="btn btn-primary" href=https://profschimd.github.io/materie/tpsit/5/05-web-service/>Index</a></div></div></nav></main></div><div class="py-3 border-top bg-light mt-auto"><div class=container><div class=row><div class=col-sm><ul class=list-unstyled><li>Michele Schimd &copy; 2023</li><li><a class=pr-1 href=mailto:michele.schimd@itiszuccante.edu.it><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-at" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 012 2h12a2 2 0 011.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83.191 12.857A2 2 0 002 14h12a2 2 0 001.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/></svg></a><a class=pr-1 rel=me href=https://github.com/ProfSchimd target=_blank title=ProfSchimd alt=GitHub><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.012 8.012.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><a class=pr-1 rel=me href=https://www.linkedin.com/in/michele-schimd-44a85160 target=_blank title=michele-schimd-44a85160 alt=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4z"/></svg></a><a class=pr-1 rel=me href=https://stackoverflow.com/users/18081937 target=_blank title=18081937><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-stack-overflow" viewBox="0 0 16 16"><path d="M12.412 14.572V10.29h1.428V16H1v-5.71h1.428v4.282h9.984z"/><path d="M3.857 13.145h7.137v-1.428H3.857v1.428zM10.254.0 9.108.852l4.26 5.727 1.146-.852L10.254.0zm-3.54 3.377 5.484 4.567.913-1.097L7.627 2.28l-.914 1.097zM4.922 6.55l6.47 3.013.603-1.294-6.47-3.013-.603 1.294zm-.925 3.344 6.985 1.469.294-1.398-6.985-1.468-.294 1.397z"/></svg></a></li><li><span style=font-size:small><em>Ultimo aggiornamento: 05/11/2023</em></span></li></ul></div><div class="col-lg text-right"><ul class=list-unstyled><li>Materiale di studio e di esercizio per gli alunni dello Zuccante.</li></ul><div><p><a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img style=float:right alt="Creative Commons License" src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a></div></p></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js integrity=sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js integrity=sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF crossorigin=anonymous></script></body></html>
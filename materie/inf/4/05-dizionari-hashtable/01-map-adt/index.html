<!doctype html><html><head><meta charset=utf-8><title>La struttura dati mappa &ndash; Michele Schimd
</title><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/spacelab/bootstrap.min.css rel=stylesheet><link href=https://profschimd.github.io/css/syntax.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body class="d-flex flex-column min-vh-100"><header><nav class="p-1 navbar navbar-expand-lg navbar-dark bg-primary"><div class=container><a class=navbar-brand rel=author href=https://profschimd.github.io/>Michele Schimd</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Materie</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/materie/inf/ class=dropdown-item>Informatica</a></li><li><a href=https://profschimd.github.io/materie/sr/ class=dropdown-item>SR</a></li><li><a href=https://profschimd.github.io/materie/tpsit/ class=dropdown-item>TPSIT</a></li><li><a href=https://profschimd.github.io/materie/gpoi/ class=dropdown-item>GPOI</a></li><li><a href=https://profschimd.github.io/materie/ec/ class=dropdown-item>EC</a></li><li><a href=https://profschimd.github.io/materie/python/ class=dropdown-item>Python</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Classi</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/classi/3ic/ class=dropdown-item>3IC</a></li><li><a href=https://profschimd.github.io/classi/4ic/ class=dropdown-item>4IC</a></li><li><a href=https://profschimd.github.io/classi/4ia/ class=dropdown-item>5IA</a></li><li><a href=https://profschimd.github.io/classi/5ic/ class=dropdown-item>5IC</a></li><li><a href=https://profschimd.github.io/classi/anni-passati/ class=dropdown-item>Anni precedenti</a></li></ul></li><li class=nav-item><a class=nav-link href=https://profschimd.github.io/about/ role=button><i class="bi bi-info-circle"></i></a></li></ul></div></div></nav></header><div class="p-4 bg-primary" style="background-size:cover;background-position:50%;background-image:linear-gradient(to bottom,rgba(0,0,0,.3) 0%,rgba(0,0,0,.6) 100%),url(https://profschimd.github.io/img/zuccante_it.jpeg)"><div class=container><h1 class="display-4 text-white">La struttura dati mappa</h1></div></div><div class=bg-light><nav aria-label="breadcrumb mt-0"><div class=container><ol class="breadcrumb py-0 my-1 small"><li class=breadcrumb-item><a href=https://profschimd.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/>Materie</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/>Informatica</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/4/>Quarto anno</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/4/05-dizionari-hashtable/>Strutture associative</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://profschimd.github.io/materie/inf/4/05-dizionari-hashtable/01-map-adt/>ADT Mappa</a></li></ol></nav></div><div class="container py-5"><main><div class=row><div class=col-10><aside><nav id=TableOfContents><ul><li><a href=#perché-una-nuova-struttura-dati>Perché una nuova struttura dati</a></li><li><a href=#map-adt>Map ADT</a></li><li><a href=#dizionari>Dizionari</a></li><li><a href=#riferimenti>Riferimenti</a></li></ul></nav></aside></div><div class=col-2><a class="btn btn-outline-primary my-1 w-100" href=https://github.com/ProfSchimd/teaching-material/tree/main/inf/datastructure/maps role=button target=_blank><i class="bi bi-github"></i> Source</a></div></div><article><div class=container style=text-align:justify><h2 id=perché-una-nuova-struttura-dati>Perché una nuova struttura dati</h2><p>Con <a href=https://profschimd.github.io/materie/inf/4/03-array-liste/>array e liste</a> si memorizzano dati in forma lineare, gli array, inoltre, permettono l&rsquo;accesso ai dati usando <em>indici</em>, diciamo che gli array <em>associano dati a numeri (indici)</em>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>100</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>String</span><span class=o>[</span><span class=n>n</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Alice&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Bob&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>names</span><span class=o>[</span><span class=n>42</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&#34;Alice&#34;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ...</span><span class=w>
</span></span></span></code></pre></div><p>Nell&rsquo;array <code>names</code>, la stringa <code>Alice</code> è <em>associata</em> alle posizioni <code>0</code> e <code>42</code>, mentre la stringa <code>Bob</code> è <em>associata</em> alla posizione <code>1</code> (anche le rimanenti posizioni saranno associate a qualche valore, che potrebbe anche essere il valore <code>null</code>). Vediamo che lo stesso <em>valore</em> (<code>Alice</code>) può essere associato a più indici (<code>0</code> e <code>42</code>), tuttavia, per ogni indice esiste un solo valore associato (<code>0 -> Alice</code>, <code>1 -> Bob</code>, &mldr;).</p><p>Supponiamo ora di dover gestire un&rsquo;<em>anagrafica</em> (una raccolta di informazioni personali: nome, cognome, indirizzo, &mldr;) e di voler accedere alle informazioni su <code>Alice</code>. Usando l&rsquo;array <code>names</code> dobbiamo individuare in che posizione/i compare tale nome.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>names</span><span class=p>.</span><span class=na>length</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>names</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>.</span><span class=na>compareTo</span><span class=p>(</span><span class=s>&#34;Alice&#34;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Nella realtà la situazione è più complessa, avendo definito un oggetto <code>Person</code> con i metodi <code>getId</code> e <code>getName</code> si può utilizzare un array di <code>Person</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>Person</span><span class=o>[]</span><span class=w> </span><span class=n>people</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=o>[</span><span class=n>10</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>people</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&#34;001&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Alice&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Smith&#34;</span><span class=p>,</span><span class=w> </span><span class=n>30</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>people</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&#34;002&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Bob&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Green&#34;</span><span class=p>,</span><span class=w> </span><span class=n>48</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>people</span><span class=o>[</span><span class=n>2</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Person</span><span class=p>(</span><span class=s>&#34;003&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Carol&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;McDough&#34;</span><span class=p>,</span><span class=w> </span><span class=n>19</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ...</span><span class=w>
</span></span></span></code></pre></div><p>Ad esempio, per accedere alle informazioni della person con identificavo <code>002</code> dobbiamo cercare nell&rsquo;array <code>people</code> tale elemento.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>people</span><span class=p>.</span><span class=na>length</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>people</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>.</span><span class=na>getId</span><span class=p>().</span><span class=na>compareTo</span><span class=p>(</span><span class=s>&#34;002&#34;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>people</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><p>Sarebbe più comodo poter indicare direttamente l&rsquo;identificativo in fase di accesso.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>people</span><span class=o>[</span><span class=s>&#34;002&#34;</span><span class=o>]</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>Java non prevede tale sintassi, ma classi che prevedono metodi con utilizzo simile, queste classi implementano l&rsquo;interfaccia <a href=https://docs.oracle.com/javase/8/docs/api/java/util/Map.html target=_blank rel=noopener>Map</a>. Nel prossimo paragrafo, vedremo come definire una versione semplificata di tale interfaccia, più in generale discuteremo la struttura dati astratta <em>mappa</em>.</p><h2 id=map-adt>Map ADT</h2><p>Vediamo ora come definire una <a href=https://profschimd.github.io/materie/inf/4/02-strutture-dati/02-adt/>struttura dati astratta</a> che permette l&rsquo;accesso alle informazione utilizzando una <strong>chiave</strong> (<strong>key</strong>) per identificare un corrispondente <strong>valore</strong> (<strong>value</strong>), tale struttura viene chiamata <strong>mappa</strong> (<strong>map</strong>).</p><div class="alert alert-primary" markdown=1><h5 class=no_toc><i class="bi bi-journal-text"></i> Definizione: Mappa</strong></h5><p>Una <strong>mappa</strong> è una struttura che permette di memorizzare informazioni sotto forma di <em>coppie</em> <code>(chiave,valore)</code>. La chiave rappresenta un <em>identificativo</em> all&rsquo;interno della mappa. Se una data chiave è presente nella mappa, allora ad essa è associato un <em>valore</em> che può essere qualsiasi tipo di dato.</p></div><div class="alert alert-warning" markdown=1><h5 class=no_toc><i class="bi bi-exclamation-octagon"></i> Importante</h5><p>Il temine <em>mappa</em> è frequentemente utilizzato, ma non è l&rsquo;unico, altri termini che si possono incontrare sono <em>dizionario</em> (<em>dictionary</em>), <em>associative array</em> o <em>hash table</em>. In queste lezioni utilizzeremo e definiremo ognuno di questi termini in modo che sia chiaro cosa indicano.</p></div><div class=row><div class=col-6><p>Sostanzialmente, una mappa crea una <em>funzione</em> tra le chiavi ed i valori, fornendo ad una mappa una chiave, essa risponde restituendo il valore che è associate alla chiave data, oppure indicando che non esiste alcun elemento con tale chiave.</p><p>La figura a fianco mostra una schema di una mappa per memorizzare chiavi di tipo stringa e valori di tipo persona. La mappa deve avere un modo per tenere traccia delle chiavi (<em>keys</em>) attraverso le quali si deve poter accedere ai corrispondenti valori (<em>values</em>). Il modo in cui queste parti vengono memorizzati dipende dall&rsquo;implementazione specifica.</p><p>Nell&rsquo;esempio vediamo che la chiave <code>001</code> è associata ad un &ldquo;oggetto&rdquo; che ha <code>Alice</code> e <code>30</code> come valori di <code>name</code> e <code>age</code>, rispettivamente. Allo stesso modo altri valori sono associati alla chiave <code>002</code>. In questo specifico esempio le chiavi sono di tipo stringa, per quanto riguarda i valori sono di tipo <code>Person</code>.</p></div><div class=col-6><div class=mxgraph style="max-width:100%;border:1px solid transparent" data-mxgraph='{"highlight":"#0000ff","nav":true,"resize":true,"toolbar":"zoom layers tags lightbox","edit":"_blank","xml":"<mxfile host=\"app.diagrams.net\" modified=\"2023-04-17T16:14:55.677Z\" agent=\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36\" etag=\"nTBAjcboWtSLKFarBt81\" version=\"21.1.5\" type=\"google\">\n  <diagram name=\"Page-1\" id=\"p-yqutBF_G3zpamSmE3I\">\n    <mxGraphModel dx=\"763\" dy=\"442\" grid=\"1\" gridSize=\"10\" guides=\"1\" tooltips=\"1\" connect=\"1\" arrows=\"1\" fold=\"1\" page=\"1\" pageScale=\"1\" pageWidth=\"1169\" pageHeight=\"827\" math=\"0\" shadow=\"0\">\n      <root>\n        <mxCell id=\"0\" />\n        <mxCell id=\"1\" parent=\"0\" />\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-15\" value=\"Map\" style=\"rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#666666;strokeColor=#666666;verticalAlign=top;fontFamily=Times New Roman;fontSize=24;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"397\" y=\"30\" width=\"375\" height=\"325\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-3\" value=\"\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\" edge=\"1\" parent=\"1\" source=\"oeXwbZWKsdFUsI5GI3tn-1\" target=\"oeXwbZWKsdFUsI5GI3tn-2\">\n          <mxGeometry relative=\"1\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-1\" value=\"&amp;quot;001&amp;quot;\" style=\"rounded=0;whiteSpace=wrap;html=1;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"422\" y=\"135\" width=\"120\" height=\"40\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-2\" value=\"&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;name=&amp;quot;Alice&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;age=30\" style=\"whiteSpace=wrap;html=1;rounded=0;align=left;verticalAlign=top;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"622\" y=\"125\" width=\"120\" height=\"60\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-4\" value=\"\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\" edge=\"1\" parent=\"1\" source=\"oeXwbZWKsdFUsI5GI3tn-5\" target=\"oeXwbZWKsdFUsI5GI3tn-6\">\n          <mxGeometry relative=\"1\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-5\" value=\"&amp;quot;002&amp;quot;\" style=\"rounded=0;whiteSpace=wrap;html=1;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"422\" y=\"205\" width=\"120\" height=\"40\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-6\" value=\"&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;name=&amp;quot;Bob&amp;quot;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;age=42\" style=\"whiteSpace=wrap;html=1;rounded=0;align=left;verticalAlign=top;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"622\" y=\"195\" width=\"120\" height=\"60\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-7\" value=\"\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\" edge=\"1\" parent=\"1\" source=\"oeXwbZWKsdFUsI5GI3tn-8\" target=\"oeXwbZWKsdFUsI5GI3tn-9\">\n          <mxGeometry relative=\"1\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-8\" value=\"...\" style=\"rounded=0;whiteSpace=wrap;html=1;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"422\" y=\"275\" width=\"120\" height=\"40\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-9\" value=\"&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;...&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;\" style=\"whiteSpace=wrap;html=1;rounded=0;align=center;verticalAlign=middle;fontFamily=Courier New;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"622\" y=\"265\" width=\"120\" height=\"60\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-10\" value=\"Keys\" style=\"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Times New Roman;fontSize=20;fontColor=#333333;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"452\" y=\"75\" width=\"60\" height=\"30\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"oeXwbZWKsdFUsI5GI3tn-14\" value=\"Values\" style=\"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Times New Roman;fontSize=20;fontColor=#333333;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"652\" y=\"75\" width=\"60\" height=\"30\" as=\"geometry\" />\n        </mxCell>\n      </root>\n    </mxGraphModel>\n  </diagram>\n</mxfile>\n"}'></div><script type=text/javascript src=https://viewer.diagrams.net/js/viewer-static.min.js></script></div></div><div class="alert alert-success" markdown=1><h5 class=no_toc><i class="bi bi-eye"></i> Osserva</strong></h5><p><p>Un array è in effetti un tipo speciale di mappa in cui le chiavi sono gli interi comprese tra <code>0</code> e <code>n-1</code> (se l&rsquo;array contiene <code>n</code> posizioni). Ad esempio l&rsquo;array</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=s>&#34;Alice&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Bob&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;Carol&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;David&#34;</span><span class=p>};</span><span class=w>
</span></span></span></code></pre></div><p>contiene il dato <code>Alice</code> associato alla chiave <code>0</code>, il dato <code>Bob</code> associato alla chiave <code>1</code> e così via.</p></p></div><p>Vediamo ora un&rsquo;interfaccia Java che permette di definire le operazioni fondamentali di una mappa, l&rsquo;interfaccia utilizza il meccanismo dei <em>generics</em> di Java (vedi riquadro sotto).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>interface</span> <span class=nc>IMap</span><span class=o>&lt;</span><span class=n>K</span><span class=p>,</span><span class=n>V</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=nf>add</span><span class=p>(</span><span class=n>K</span><span class=w> </span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>V</span><span class=w> </span><span class=n>value</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>V</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=n>K</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>V</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=n>K</span><span class=w> </span><span class=n>key</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>K</span><span class=o>[]</span><span class=w> </span><span class=nf>keys</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>V</span><span class=o>[]</span><span class=w> </span><span class=nf>values</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=nf>size</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>boolean</span><span class=w> </span><span class=nf>isEmpty</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><div class="alert alert-danger" markdown=1><h5 class="alert-danger no_toc"><i class="bi bi-exclamation-triangle"></i> Attenzione</strong></h5><p><p>L&rsquo;interfaccia <code>IMap</code> utilizza i <em>generics</em> che permettono di specificare il <em>tipo</em> al momento in cui la classe viene istanziata anziché al momento della definizione della classe/interfaccia stessa.
Un esempio di istanziazione dell&rsquo;interfaccia sopra è dato nel seguente codice.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>IMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>myMap</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>...</span><span class=w> 
</span></span></span></code></pre></div><p>I <em>generics</em> sono alla base delle classi contenitori offerte dalla libreria Java.
Ad esempio per creare un <code>ArrayList</code> di stringhe si usa il seguente codice:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></div><p>In maniera simile possiamo creare un <code>ArrayList</code> di interi si crea con il seguente
codice:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=w> </span><span class=n>ages</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></div><p>I tipi specificati dentro le parentesi angolari <code>&lt; ></code> <strong>devono essere tipi riferimento</strong> e <strong>non possono essere tipi fondamentali come <code>int</code> o <code>double</code></strong>. Questo perché sfrutta il fatto che ogni tipo riferimento è sottoclasse di <code>Object</code>, cosa che non vale per i tipi fondamentali (<code>int</code>, <code>double</code>, <code>boolean</code>, &mldr;).</p></p></div><p>Il nome delle operazioni indica in modo diretto come operano sulla struttura dati.</p><ul><li><code>add</code> aggiunge un coppia <code>(key, value)</code> alla mappa</li><li><code>remove</code> rimuove la coppia <code>(key, value)</code> dalla mappa</li><li><code>get</code> restituisce, se presente, il <code>value</code> associata alla <code>key</code> data</li><li><code>keys</code> restituisce la lista di tutte le chiavi</li><li><code>values</code> restituisce la lista di tutti i valori</li><li><code>size</code> restituisce il numero di coppie memorizzate nella mappa</li><li><code>isEmpty</code> restituisce <code>true</code> se la mappa è vuota (non contiene alcuna coppia)</li></ul><h2 id=dizionari>Dizionari</h2><p>Con il termine <em>dizionario</em> (<em>dictionary</em>) si indica solitamente una mappa in cui il tipo della chiave è una stringa, di norma anche il valore è una string. Il nome deriva proprio dal dizionario fisico in cui si ricerca un termine (una stringa) per ottenere la corrispondente definizione (un&rsquo;altra stringa).</p><p>Utilizzando l&rsquo;interfaccia <code>IMap</code> sopra, un dizionario si ottiene utilizzando i tipi <code>String</code> sia per la chiave che per il valore.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>IMap</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=w> </span><span class=n>myDict</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span><span class=w> </span><span class=n>String</span><span class=o>&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>myDict</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=s>&#34;Dictionary&#34;</span><span class=p>,</span><span class=w> </span><span class=s>&#34;A book containing definitions.\nA type of map data structure.&#34;</span><span class=p>);</span><span class=w>
</span></span></span></code></pre></div><p>Nel frammento di codice Java riportato sopra, si suppone che esista una classe concreta <code>Map</code> che implementa l&rsquo;interfaccia <code>IMap</code>, mantenendo i tipi generics</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Map</span><span class=o>&lt;</span><span class=n>K</span><span class=p>,</span><span class=n>V</span><span class=o>&gt;</span><span class=w> </span><span class=kd>implements</span><span class=w> </span><span class=n>IMapGenerics</span><span class=o>&lt;</span><span class=n>K</span><span class=p>,</span><span class=n>V</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=cm>/* ... */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=riferimenti>Riferimenti</h2><ul><li><a href=https://docs.oracle.com/javase/8/docs/api/java/util/Map.html target=_blank rel=noopener>L&rsquo;interfaccia <code>Map</code> di Java (Oracle Docs.)</a></li></ul></div></article><nav class="mx-5 my-3"><div class=card><h5 class=card-header>Indice di Strutture dati associative: Mappe, Dizionari e Hash Table</h5><ul class="list-group list-group-flush"><li class="list-group-item list-group-item-primary"><strong><a href=https://profschimd.github.io/materie/inf/4/05-dizionari-hashtable/01-map-adt/>> La struttura dati mappa</a></strong></li><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/4/05-dizionari-hashtable/02-hash-table/>Struttura dati hash table</a></li></ul><div class=card-footer><a class="btn btn-primary" href=https://profschimd.github.io/materie/inf/4/05-dizionari-hashtable/>Index</a></div></div></nav></main></div><div class="py-3 border-top bg-light mt-auto"><div class=container><div class=row><div class=col-sm><ul class=list-unstyled><li>Michele Schimd &copy; 2023</li><li><a class=pr-1 href=mailto:michele.schimd@itiszuccante.edu.it><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-at" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 012 2h12a2 2 0 011.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83.191 12.857A2 2 0 002 14h12a2 2 0 001.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/></svg></a><a class=pr-1 rel=me href=https://github.com/ProfSchimd target=_blank title=ProfSchimd alt=GitHub><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.012 8.012.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><a class=pr-1 rel=me href=https://www.linkedin.com/in/michele-schimd-44a85160 target=_blank title=michele-schimd-44a85160 alt=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4z"/></svg></a><a class=pr-1 rel=me href=https://stackoverflow.com/users/18081937 target=_blank title=18081937><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-stack-overflow" viewBox="0 0 16 16"><path d="M12.412 14.572V10.29h1.428V16H1v-5.71h1.428v4.282h9.984z"/><path d="M3.857 13.145h7.137v-1.428H3.857v1.428zM10.254.0 9.108.852l4.26 5.727 1.146-.852L10.254.0zm-3.54 3.377 5.484 4.567.913-1.097L7.627 2.28l-.914 1.097zM4.922 6.55l6.47 3.013.603-1.294-6.47-3.013-.603 1.294zm-.925 3.344 6.985 1.469.294-1.398-6.985-1.468-.294 1.397z"/></svg></a></li><li><span style=font-size:small><em>Ultimo aggiornamento: 05/12/2023</em></span></li></ul></div><div class="col-lg text-right"><ul class=list-unstyled><li>Materiale di studio e di esercizio per gli alunni dello Zuccante.</li></ul><div><p><a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img style=float:right alt="Creative Commons License" src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a></div></p></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js integrity=sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js integrity=sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF crossorigin=anonymous></script></body></html>
<!doctype html><html><head><meta charset=utf-8><title>Laboratorio 2: Basi di PHP e parsing JSON &ndash; Michele Schimd
</title><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/spacelab/bootstrap.min.css rel=stylesheet><link href=https://profschimd.github.io/css/syntax.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body class="d-flex flex-column min-vh-100"><header><nav class="p-1 navbar navbar-expand-lg navbar-dark bg-primary"><div class=container><a class=navbar-brand rel=author href=https://profschimd.github.io/>Michele Schimd</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Materie</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/materie/inf/ class=dropdown-item>Informatica</a></li><li><a href=https://profschimd.github.io/materie/sr/ class=dropdown-item>SR</a></li><li><a href=https://profschimd.github.io/materie/tpsit/ class=dropdown-item>TPSIT</a></li><li><a href=https://profschimd.github.io/materie/gpoi/ class=dropdown-item>GPOI</a></li><li><a href=https://profschimd.github.io/materie/ec/ class=dropdown-item>EC</a></li><li><a href=https://profschimd.github.io/materie/python/ class=dropdown-item>Python</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Classi</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a href=https://profschimd.github.io/classi/3ic/ class=dropdown-item>3IC</a></li><li><a href=https://profschimd.github.io/classi/4ic/ class=dropdown-item>4IC</a></li><li><a href=https://profschimd.github.io/classi/4ia/ class=dropdown-item>5IA</a></li><li><a href=https://profschimd.github.io/classi/5ic/ class=dropdown-item>5IC</a></li><li><a href=https://profschimd.github.io/classi/anni-passati/ class=dropdown-item>Anni precedenti</a></li></ul></li><li class=nav-item><a class=nav-link href=https://profschimd.github.io/about/ role=button><i class="bi bi-info-circle"></i></a></li></ul></div></div></nav></header><div class="p-4 bg-primary" style="background-size:cover;background-position:50%;background-image:linear-gradient(to bottom,rgba(0,0,0,.3) 0%,rgba(0,0,0,.6) 100%),url(https://profschimd.github.io/img/zuccante_it.jpeg)"><div class=container><h1 class="display-4 text-white">Laboratorio 2: Basi di PHP e parsing JSON</h1></div></div><div class=bg-light><nav aria-label="breadcrumb mt-0"><div class=container><ol class="breadcrumb py-0 my-1 small"><li class=breadcrumb-item><a href=https://profschimd.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/>Materie</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/>Informatica</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/5/>Quinto Anno</a></li><li class=breadcrumb-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/>Gestione dati</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/l02-php-base/>PHP Base</a></li></ol></nav></div><div class="container py-5"><main><div class=row><div class=col-10><aside><nav id=TableOfContents><ul><li><a href=#cosè-php>Cos&rsquo;è PHP</a></li><li><a href=#sintassi-base-php>Sintassi base PHP</a><ul><li><a href=#istruzioni-e-commenti>Istruzioni e commenti</a></li><li><a href=#variabili-e-tipi>Variabili e Tipi</a></li><li><a href=#print-e-echo><code>print</code> e <code>echo</code></a></li><li><a href=#funzioni>Funzioni</a></li></ul></li><li><a href=#processing-di-file-json-in-php>Processing di file JSON in PHP</a></li><li><a href=#riferimenti>Riferimenti</a></li></ul></nav></aside></div><div class=col-2><a class="btn btn-outline-primary my-1 w-100" href=https://github.com/ProfSchimd/teaching-material/tree/main/inf/5/INF.5.01/L01.PHPBase role=button target=_blank><i class="bi bi-github"></i> Source</a></div></div><article><div class=container style=text-align:justify><h2 id=cosè-php>Cos&rsquo;è PHP</h2><p>PHP (acronimo ricorsivo <em>PHP: Hypertext Preprocessor</em>) è un linguaggio di scripting <em>server-side</em> progettato per essere inserito (<em>embedded</em>) all&rsquo;interno di codice HTML.</p><ul><li><strong>Server-side</strong> eseguito lato server (a differenza di Javascript eseguito lato client).</li><li><strong>Embedded</strong> il codice PHP è scritto &ldquo;in mezzo&rdquo; al codice HTML</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Example<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cp>&lt;?php</span> <span class=k>echo</span><span class=p>(</span><span class=s2>&#34;Hi, I&#39;m a PHP script!&#34;</span><span class=p>);</span> <span class=cp>?&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Il funzionamento di PHP è molto semplice ed è riassunto nello schema sotto.</p><div class=py-3><div class=mxgraph style="max-width:100%;border:1px solid transparent" data-mxgraph='{"highlight":"#0000ff","nav":true,"resize":true,"toolbar":"zoom layers tags lightbox","edit":"_blank","xml":"<mxfile host=\"app.diagrams.net\" modified=\"2023-07-16T21:14:41.549Z\" agent=\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\" etag=\"WXiVRjmCufjxpYqBKqr2\" version=\"21.6.2\" type=\"google\">\n  <diagram name=\"Page-1\" id=\"Poa1CPOGWQ_xaiuC2xNZ\">\n    <mxGraphModel dx=\"1060\" dy=\"551\" grid=\"1\" gridSize=\"10\" guides=\"1\" tooltips=\"1\" connect=\"1\" arrows=\"1\" fold=\"1\" page=\"1\" pageScale=\"1\" pageWidth=\"850\" pageHeight=\"1100\" math=\"0\" shadow=\"0\">\n      <root>\n        <mxCell id=\"0\" />\n        <mxCell id=\"1\" parent=\"0\" />\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-4\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;endArrow=classicThin;endFill=1;strokeColor=#004C99;strokeWidth=2;\" edge=\"1\" parent=\"1\" source=\"NxS2fy-z7nWO39u1pj1l-1\" target=\"NxS2fy-z7nWO39u1pj1l-3\">\n          <mxGeometry relative=\"1\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-5\" value=\"Processed by\" style=\"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Times New Roman;fontColor=#004C99;fontSize=15;\" vertex=\"1\" connectable=\"0\" parent=\"NxS2fy-z7nWO39u1pj1l-4\">\n          <mxGeometry x=\"0.2686\" relative=\"1\" as=\"geometry\">\n            <mxPoint x=\"20\" y=\"-14\" as=\"offset\" />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-1\" value=\"\" style=\"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/PHP-logo.svg/1200px-PHP-logo.svg.png;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"616\" y=\"30\" width=\"98.14\" height=\"53\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-3\" value=\"\" style=\"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Apache_HTTP_server_logo_%282019-present%29.svg/1200px-Apache_HTTP_server_logo_%282019-present%29.svg.png;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"396\" y=\"32\" width=\"125.77\" height=\"48\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-6\" value=\"\" style=\"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/HTML5_logo_and_wordmark.svg/640px-HTML5_logo_and_wordmark.svg.png;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"256\" y=\"32\" width=\"51\" height=\"51\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-8\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;endArrow=classicThin;endFill=1;strokeColor=#004C99;strokeWidth=2;entryX=1.017;entryY=0.461;entryDx=0;entryDy=0;entryPerimeter=0;\" edge=\"1\" parent=\"1\" source=\"NxS2fy-z7nWO39u1pj1l-3\" target=\"NxS2fy-z7nWO39u1pj1l-6\">\n          <mxGeometry relative=\"1\" as=\"geometry\">\n            <mxPoint x=\"390\" y=\"56.21000000000001\" as=\"sourcePoint\" />\n            <mxPoint x=\"296\" y=\"56.21000000000001\" as=\"targetPoint\" />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-9\" value=\"Creates\" style=\"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Times New Roman;fontColor=#004C99;fontSize=15;\" vertex=\"1\" connectable=\"0\" parent=\"NxS2fy-z7nWO39u1pj1l-8\">\n          <mxGeometry x=\"0.2686\" relative=\"1\" as=\"geometry\">\n            <mxPoint x=\"15\" y=\"-14\" as=\"offset\" />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-10\" value=\"\" style=\"shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Google_Chrome_icon_%28February_2022%29.svg/1024px-Google_Chrome_icon_%28February_2022%29.svg.png;\" vertex=\"1\" parent=\"1\">\n          <mxGeometry x=\"136\" y=\"38.5\" width=\"38\" height=\"38\" as=\"geometry\" />\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-11\" style=\"edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;endArrow=classicThin;endFill=1;strokeColor=#004C99;strokeWidth=2;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\" edge=\"1\" parent=\"1\" source=\"NxS2fy-z7nWO39u1pj1l-6\" target=\"NxS2fy-z7nWO39u1pj1l-10\">\n          <mxGeometry relative=\"1\" as=\"geometry\">\n            <mxPoint x=\"406\" y=\"66\" as=\"sourcePoint\" />\n            <mxPoint x=\"318\" y=\"66\" as=\"targetPoint\" />\n          </mxGeometry>\n        </mxCell>\n        <mxCell id=\"NxS2fy-z7nWO39u1pj1l-12\" value=\"Sent\" style=\"edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Times New Roman;fontColor=#004C99;fontSize=15;\" vertex=\"1\" connectable=\"0\" parent=\"NxS2fy-z7nWO39u1pj1l-11\">\n          <mxGeometry x=\"0.2686\" relative=\"1\" as=\"geometry\">\n            <mxPoint x=\"9\" y=\"-14\" as=\"offset\" />\n          </mxGeometry>\n        </mxCell>\n      </root>\n    </mxGraphModel>\n  </diagram>\n</mxfile>\n"}'></div><script type=text/javascript src=https://viewer.diagrams.net/js/viewer-static.min.js></script></div><ol><li>Il codice PHP scritto dallo sviluppatore viene processato da un web server, ad esempio Apache.</li><li>Il web server esegue le istruzioni PHP e produce un file HTML <strong>senza più codice PHP</strong>.</li><li>Il codice HTML risultante viene spedito al client come un normale file <code>.html</code>.</li></ol><p>Prima di passare alla sintassi PHP, vediamo alcuni vantaggi di utilizzare un linguaggio di scripting server-side.</p><ul><li>Il codice in esecuzione sul server ha accesso alle risorse che sono memorizzati sul server. Inoltre il codice può modificare tali risorse.</li><li>Il codice è eseguito in un ambiente controllato (il server) ed è quindi meno esposto a vulnerabilità (sebbene non ne sia completamente esente).</li><li>Non c&rsquo;è bisogno di particolare software lato client in quanto questo riceve solo HTML.</li><li>Operazioni che richiedono molte risorse possono essere fatte dal server anziché dal client che, solitamente, non ha hardware particolarmente performante.</li></ul><div class="alert alert-warning" markdown=1><h5 class=no_toc><i class="bi bi-exclamation-octagon"></i> Importante</h5><p><p>Sebbene nato come scripting per HTML, PHP può essere usato per qualsiasi tipo di file. Il seguente esempio mostra come inserire codice PHP all&rsquo;interno di un file JSON.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;?php</span> <span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Content-type: application/json&#39;</span><span class=p>);</span> <span class=cp>?&gt;</span>
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>	&#34;name&#34;: <span class=cp>&lt;?php</span> <span class=k>echo</span><span class=p>(</span><span class=s1>&#39;&#34;My name&#34;&#39;</span><span class=p>);</span> <span class=cp>?&gt;</span>
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>La prima riga</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span> <span class=nx>header</span><span class=p>(</span><span class=s1>&#39;Content-type: application/json&#39;</span><span class=p>);</span> <span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></div><p>indica che il <code>body</code> della <a href=https://profschimd.github.io/materie/sr/5/02-application/http/#la-risposta-http target=_blank rel=noopener>risposta HTTP</a> conterrà un file JSON anziché un file HTML.</p><p>All&rsquo;interno del file JSON (<em>inline</em>) viene inserito il codice PHP per generare contenuto dinamicamente. Va tuttavia notato che <strong>questo utilizzo di PHP è poco frequente</strong> poiché esistono modi migliori per generare file JSON dinamicamente.</p></p></div><h2 id=sintassi-base-php>Sintassi base PHP</h2><p>Il codice PHP generalmente si scrive all&rsquo;interno di file <code>.php</code> i quali contengono normale codice HTML &ldquo;interrotto&rdquo; da frammenti di codice PHP. Il motore PHP (as esempio Apache), fa il <em>parsing</em> del codice e si attiva quando incontra codice PHP che deve essere segnalato. Per inserire codice PHP in HTML si utilizzano i tag <code>&lt;?php</code> e <code>?></code> per aprire e chiudere, rispettivamente, un frammento PHP.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    Codice <span class=p>&lt;</span><span class=nt>code</span><span class=p>&gt;</span>HTML<span class=p>&lt;/</span><span class=nt>code</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cp>&lt;?php</span> <span class=k>echo</span><span class=p>(</span><span class=s2>&#34;Codice &lt;code&gt;PHP&lt;/code&gt;&#34;</span><span class=p>);</span> <span class=cp>?&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>Il codice sorgente HTML ottenuto dal browser non contiene alcuna traccia del codice PHP e dei tag di apertura e chiusura.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    Codice <span class=p>&lt;</span><span class=nt>code</span><span class=p>&gt;</span>HTML<span class=p>&lt;/</span><span class=nt>code</span><span class=p>&gt;</span> <span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    Codice <span class=p>&lt;</span><span class=nt>code</span><span class=p>&gt;</span>PHP<span class=p>&lt;/</span><span class=nt>code</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span></code></pre></div><h3 id=istruzioni-e-commenti>Istruzioni e commenti</h3><p>Le istruzioni PHP sono
<mark>separate</mark>
da un punto e virgola <code>;</code>, dimenticarlo è un errore che provoca l&rsquo;interruzione del parsing e l&rsquo;output di una pagina di errore.</p><div class="alert alert-danger" markdown=1><h5 class="alert-danger no_toc"><i class="bi bi-exclamation-triangle"></i> Attenzione</strong></h5><p><p>Il punto e virgola <strong>separa</strong> istruzione e <strong>non le termina</strong>, questi significa che:</p><ul><li>una singola istruzione (non essendo da separare) può non avere il <code>;</code> finale,</li><li>l&rsquo;ultima istruzione può non avere il <code>;</code> finale.</li></ul><p>Tuttavia è consigliabile <strong>usare sempre il <code>;</code>, anche quando non sarebbe strettamente necessario</strong>, in questo modo si evitano errori soprattutto se si aggiungono istruzioni e/o si spostano/copiano parti di istruzioni.</p></p></div><p>Ci sono due tipi di commenti in PHP (stile Java e C++):</p><ul><li>commenti su singola riga: iniziano con <code>//</code> o <code>#</code> (<em>script style</em>) e terminano alla fine della riga,</li><li>commenti su blocco: iniziano con <code>/*</code> e terminano con <code>*/</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;?php</span>
</span></span><span class=line><span class=cl><span class=k>echo</span><span class=p>(</span><span class=s2>&#34;Segue un commento su riga &lt;br&gt;&#34;</span><span class=p>);</span> <span class=c1>// Commento su riga
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span><span class=p>(</span><span class=s2>&#34;Altro commento su riga, usando # &lt;br&gt;&#34;</span><span class=p>);</span> <span class=c1># Commento su riga stile script
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span><span class=p>(</span><span class=s2>&#34;Segue un commento su più righe &lt;br&gt;&#34;</span><span class=p>);</span> <span class=cm>/* Il commento può iniziare a metà riga
</span></span></span><span class=line><span class=cl><span class=cm>e prosegue fino ad incontrare il PRIMO terminatore */</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span>
</span></span></code></pre></div><p>Essendo parte del codice PHP <strong>i commenti non vengono scritti nell&rsquo;HTML restituito al browser</strong> e non saranno quindi visibili lato client.</p><h3 id=variabili-e-tipi>Variabili e Tipi</h3><p>Le variabili PHP si indicano utilizzando il simbolo del dollaro <code>$</code> seguito dal nome della variabile che è <em>case-sensitive</em> (distingue maiuscole e minuscole).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;?php</span>
</span></span><span class=line><span class=cl><span class=nv>$var</span> <span class=o>=</span> <span class=s1>&#39;Alice&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$Var</span> <span class=o>=</span> <span class=s1>&#39;Bob&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>$var</span><span class=s2>, </span><span class=si>$Var</span><span class=s2>&#34;</span><span class=p>);</span>      <span class=c1>// outputs &#34;Alice, Bob&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>?&gt;</span>
</span></span></code></pre></div><p>Lo <em>scope</em> di una variabile è la parte di codice in cui quella variabile è visibile ed utilizzabile. Le variabili dichiarate come sopra hanno come scope il blocco in cui sono state dichiarate (ad esempio una funzione o un ciclo).</p><p>Esiste uno scope speciale chiamato <code>global</code> che è accessibile ovunque, finiscono in questo scope tutte le variabili dichiarate fuori da qualsiasi blocco. Per utilizzare variabili in questo scope ci sono due modi:</p><ul><li>dichiarare <code>global</code> la variabile al momento dell utilizzo oppure</li><li>utilizzare l&rsquo;array <code>$GLOBALS</code>.</li></ul><p>Il seguente esempio mostra i due modi. Le due funzioni eseguono esattamente le stesse operazioni (i due output sono diversi perché <code>$b</code> cambia tra la prima e la seconda chiamata).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;?php</span>
</span></span><span class=line><span class=cl><span class=c1>// variabili fuori da qualsiasi blocco -&gt; globali
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>Sum1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=nv>$a</span><span class=p>,</span> <span class=nv>$b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>$b</span> <span class=o>=</span> <span class=nv>$a</span> <span class=o>+</span> <span class=nv>$b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>Sum2</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;b&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;b&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Sum1</span><span class=p>();</span> <span class=c1>// 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$b</span><span class=p>;</span> <span class=c1>// stampa 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=s2>&#34;&lt;br&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>Sum2</span><span class=p>();</span> 
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$b</span><span class=p>;</span> <span class=c1>// stampa 4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>?&gt;</span>
</span></span></code></pre></div><p>PHP prevede un terzo tipo di scope chiamato <em>superglobals</em> che consiste in variabili globali per le quali non è necessario usare la parola chiave <code>global</code>. La variabile <code>$GLOBALS</code> usata nell&rsquo;esempio precedente è una variabile superglobal.</p><p>PHP mette a disposizione diverse <a href=https://www.php.net/manual/en/language.variables.superglobals.php target=_blank rel=noopener>variabili superglobals</a>.</p><ul><li><code>$GLOBALS</code></li><li><code>$_SERVER</code></li><li><code>$_GET</code></li><li><code>$_POST</code></li><li><code>$_FILES</code></li><li><code>$_COOKIE</code></li><li><code>$_SESSION</code></li><li><code>$_REQUEST</code></li><li><code>$_ENV</code></li></ul><p>In PHP ogni espressione deve avere uno dei seguenti tipi</p><ul><li>null</li><li>bool</li><li>int</li><li>float (floating-point number)</li><li>string</li><li>array</li><li>object</li><li>callable</li><li>resource</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-phtml data-lang=phtml><span class=line><span class=cl><span class=cp>&lt;?php</span>
</span></span><span class=line><span class=cl><span class=nv>$a_bool</span> <span class=o>=</span> <span class=k>true</span><span class=p>;</span>   <span class=c1>// a bool
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$a_str</span>  <span class=o>=</span> <span class=s2>&#34;foo&#34;</span><span class=p>;</span>  <span class=c1>// a string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$a_str2</span> <span class=o>=</span> <span class=s1>&#39;foo&#39;</span><span class=p>;</span>  <span class=c1>// a string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$an_int</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span>     <span class=c1>// an int
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span><span class=p>(</span><span class=nx>get_debug_type</span><span class=p>(</span><span class=nv>$a_bool</span><span class=p>),</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span><span class=p>(</span><span class=nx>get_debug_type</span><span class=p>(</span><span class=nv>$a_str</span><span class=p>),</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span>
</span></span></code></pre></div><h3 id=print-e-echo><code>print</code> e <code>echo</code></h3><h3 id=funzioni>Funzioni</h3><h2 id=processing-di-file-json-in-php>Processing di file JSON in PHP</h2><h2 id=riferimenti>Riferimenti</h2><ul><li><a href=https://www.php.net/manual/en/tutorial.php target=_blank rel=noopener>PHP a simple tutorial</a></li></ul></div></article><nav class="mx-5 my-3"><div class=card><h5 class=card-header>Indice di Gestione dati</h5><ul class="list-group list-group-flush"><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/01-informazione-dati/>Informazione e dati</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/02-rappresentazione/>Rappresentazione dei dati</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/03-manipolazione/>Manipolare i dati</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/99-glossario-dati/>Glossario dell'unità "Gestione Dati"</a></li><li class=list-group-item><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/l01-file-dati/>Laboratorio 1: esplorazione dataset su file</a></li><li class="list-group-item list-group-item-primary"><strong><a href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/l02-php-base/>> Laboratorio 2: Basi di PHP e parsing JSON</a></strong></li></ul><div class=card-footer><a class="btn btn-primary" href=https://profschimd.github.io/materie/inf/5/01-gestione-dati/>Index</a></div></div></nav></main></div><div class="py-3 border-top bg-light mt-auto"><div class=container><div class=row><div class=col-sm><ul class=list-unstyled><li>Michele Schimd &copy; 2023</li><li><a class=pr-1 href=mailto:michele.schimd@itiszuccante.edu.it><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-at" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 012 2h12a2 2 0 011.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83.191 12.857A2 2 0 002 14h12a2 2 0 001.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/></svg></a><a class=pr-1 rel=me href=https://github.com/ProfSchimd target=_blank title=ProfSchimd alt=GitHub><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-github" viewBox="0 0 16 16"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.012 8.012.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><a class=pr-1 rel=me href=https://www.linkedin.com/in/michele-schimd-44a85160 target=_blank title=michele-schimd-44a85160 alt=Linkedin><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-linkedin" viewBox="0 0 16 16"><path d="M0 1.146C0 .513.526.0 1.175.0h13.65C15.474.0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487.0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837.0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822.0-1.359.54-1.359 1.248.0.694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869.0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274.0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54.0 01.016-.025V6.169h-2.4c.03.678.0 7.225.0 7.225h2.4z"/></svg></a><a class=pr-1 rel=me href=https://stackoverflow.com/users/18081937 target=_blank title=18081937><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" fill="currentcolor" class="bi bi-stack-overflow" viewBox="0 0 16 16"><path d="M12.412 14.572V10.29h1.428V16H1v-5.71h1.428v4.282h9.984z"/><path d="M3.857 13.145h7.137v-1.428H3.857v1.428zM10.254.0 9.108.852l4.26 5.727 1.146-.852L10.254.0zm-3.54 3.377 5.484 4.567.913-1.097L7.627 2.28l-.914 1.097zM4.922 6.55l6.47 3.013.603-1.294-6.47-3.013-.603 1.294zm-.925 3.344 6.985 1.469.294-1.398-6.985-1.468-.294 1.397z"/></svg></a></li><li><span style=font-size:small><em>Ultimo aggiornamento: 02/12/2023</em></span></li></ul></div><div class="col-lg text-right"><ul class=list-unstyled><li>Materiale di studio e di esercizio per gli alunni dello Zuccante.</li></ul><div><p><a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/><img style=float:right alt="Creative Commons License" src=https://i.creativecommons.org/l/by-nc/4.0/88x31.png></a></div></p></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js integrity=sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js integrity=sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF crossorigin=anonymous></script></body></html>